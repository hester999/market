# Market ‚Äî REST API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç REST API —É—Å–ª–æ–≤–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π

API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ **REST + JSON**.  
–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL, –≤—Å—ë —É–ø–∞–∫–æ–≤–∞–Ω–æ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

---

## üîó –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ **—Ç–µ—Å—Ç–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ**:

- API: [http://185.104.249.205](http://185.104.249.205)
- Swagger UI: [http://185.104.249.205/swagger/index.html](http://185.104.249.205/swagger/index.html)

> –í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Postman –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `{{baseurl}}` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä.  
> –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å `{{baseurl}}` –Ω–∞ `{{local}}`.

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –ß–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```sh
docker compose up --build
```

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ [http://localhost:8080](http://localhost:8080)
- Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 2. –õ–æ–∫–∞–ª—å–Ω–æ (Go 1.24+)

```sh
cd app
make build
./build/app
```
> –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ–¥–Ω—è—Ç—å PostgreSQL –∏ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL` (—Å–º. docker-compose.yaml).

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:**  
  –í –ø–∞–ø–∫–µ `internal/db` –∑–∞—à–∏—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ.  
  –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

- **–ö–æ–ª–ª–µ–∫—Ü–∏—è Postman:**  
  –í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (`market Copy.postman_collection.json`) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API.  
  ‚ö†Ô∏è –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±—É—é—â–∏—Ö —Ç–æ–∫–µ–Ω, session, id –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏–ª–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫) –∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é.

- **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**  
  –ö–∞—Ä—Ç–∏–Ω–∫–∏ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —á–µ—Ä–µ–∑ `form-data`.
  - –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ –ª–æ–∫–∞–ª–∫–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/internal/static`
  - –ü—Ä–∏ —Å–±–æ—Ä–∫–µ —á–µ—Ä–µ–∑ Docker ‚Äî –≤ `/market/static`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/internal/entity/      ‚Äî –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (user, ads, image –∏ –¥—Ä.)
app/internal/usecases/    ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (usecase-—ã –ø–æ –¥–æ–º–µ–Ω–∞–º)
app/internal/repo/        ‚Äî —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (PostgreSQL)
app/internal/handler/     ‚Äî HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (—Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –¥–æ–º–µ–Ω–∞–º)
app/internal/mapper/      ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (DTO ‚Üî entity)
app/internal/apperr/      ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
app/internal/middleware/  ‚Äî middleware (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
app/internal/router/      ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
app/internal/db/          ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î, —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
app/static/               ‚Äî —Å—Ç–∞—Ç–∏–∫–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
app/docs/                 ‚Äî Swagger/OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
```

---

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å (JSON)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞—â–∏—â—ë–Ω–Ω–æ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å (JSON)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è
- –í –æ—Ç–≤–µ—Ç–µ ‚Äî –¥–∞–Ω–Ω—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∞, —Ç–µ–∫—Å—Ç–∞, —Ü–µ–Ω—ã, —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í –æ—Ç–≤–µ—Ç–µ ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### –õ–µ–Ω—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–µ (—Å–≤–µ–∂–∏–µ ‚Äî –≤ –Ω–∞—á–∞–ª–µ)
- –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∏ —Ü–µ–Ω–µ
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ü–µ–Ω–∞, –ª–æ–≥–∏–Ω –∞–≤—Ç–æ—Ä–∞, –ø—Ä–∏–∑–Ω–∞–∫ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- Swagger UI (–ª–æ–∫–∞–ª—å–Ω–æ): [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html)
- Swagger UI (—Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä): [http://185.104.249.205/swagger/index.html](http://185.104.249.205/swagger/index.html)
- OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: `app/docs/swagger.yaml`

---

## –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

- –í—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ë–î –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π —á–µ—Ä–µ–∑ Docker Compose
- –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è volume: `./static/upload:/app/static/upload`

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.24+
- Docker, Docker Compose

---

## –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

1. **–ü–æ–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç —Ç–µ—Å—Ç–∞–º–∏**  
   –î–æ–±–∞–≤–∏—Ç—å unit- –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª–æ—ë–≤ (usecases, handlers, repo).
2. **–ü—Ä–∏–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫ –µ–¥–∏–Ω–æ–º—É —Ç–∏–ø—É**  
   –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, id, session, user_id –∏ —Ç.–¥.) –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É.
3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ DTO –∏ –º–∞–ø–ø–µ—Ä–æ–≤**  
   –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏ –ø–æ—á–∏—Å—Ç–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã DTO –∏ –ª–æ–≥–∏–∫—É –º–∞–ø–ø–µ—Ä–æ–≤, —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é.

---

## –°—Å—ã–ª–∫–∏

- [Swagger UI (–ª–æ–∫–∞–ª—å–Ω–æ)](http://localhost:8080/swagger/index.html)
- [Swagger UI (—Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä)](http://185.104.249.205/swagger/index.html)
- [github](https://github.com/hester999/market)
